<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Functional Programming</title>
</head>

<body>
    <script>


        // Learn About Functional Programming
        const prepareTea = () => 'greenTea';

        const getTea = (numOfCups) => {
            const teaCups = [];

            for (let cups = 1; cups <= numOfCups; cups += 1) {
                const teaCup = prepareTea();
                teaCups.push(teaCup);
            }
            return teaCups;
        };

        const tea4TeamFCC = getTea(40);
        console.log(tea4TeamFCC);



        // Understand Functional Programming Terminology
        const prepareGreenTea = () => 'greenTea';
        const prepareBlackTea = () => 'blackTea';

        const getTea = (prepareTea, numOfCups) => {
            const teaCups = [];

            for (let cups = 1; cups <= numOfCups; cups += 1) {
                const teaCup = prepareTea();
                teaCups.push(teaCup);
            }
            return teaCups;
        };

        const tea4GreenTeamFCC = getTea(prepareGreenTea, 27);
        const tea4BlackTeamFCC = getTea(prepareBlackTea, 13);

        console.log(
            tea4GreenTeamFCC,
            tea4BlackTeamFCC
        );




        // Understand the Hazards of Using Imperative Code
        var Window = function (tabs) {
            this.tabs = tabs;
        };

        Window.prototype.join = function (otherWindow) {
            this.tabs = this.tabs.concat(otherWindow.tabs);
            return this;
        };


        Window.prototype.tabOpen = function (tab) {
            this.tabs.push('new tab');
            return this;
        };

        Window.prototype.tabClose = function (index) {



            var tabsBeforeIndex = this.tabs.slice(0, index);
            var tabsAfterIndex = this.tabs.slice(index + 1);


            this.tabs = tabsBeforeIndex.concat(tabsAfterIndex); // 

            return this;
        };


        var workWindow = new Window(['GMail', 'Inbox', 'Work mail', 'Docs', 'freeCodeCamp']);
        var socialWindow = new Window(['FB', 'Gitter', 'Reddit', 'Twitter', 'Medium']);
        var videoWindow = new Window(['Netflix', 'YouTube', 'Vimeo', 'Vine']);


        var finalTabs = socialWindow
            .tabOpen()
            .join(videoWindow.tabClose(2))
            .join(workWindow.tabClose(1).tabOpen());
        console.log(finalTabs.tabs);




        // Avoid Mutations and Side Effects Using Functional Programming
        var fixedValue = 4;

        function incrementer() {
            return fixedValue + 1;
        }
        var newValue = incrementer();





        // Pass Arguments to Avoid External Dependence in a Function
        var fixedValue = 4;

        function incrementer(value) {
            return value + 1;
        }
        var differentValue = incrementer(fixedValue);
        console.log(fixedValue);




        // Refactor Global Variables Out of Functions
        var bookList = ["The Hound of the Baskervilles", "On The Electrodynamics of Moving Bodies", "PhilosophiÃ¦ Naturalis Principia Mathematica", "Disquisitiones Arithmeticae"];
        function add(arr, bookName) {
            let newArr = [...arr];
            newArr.push(bookName);
            return newArr;
        }
        function remove(arr, bookName) {
            let newArr = [...arr];
            if (newArr.indexOf(bookName) >= 0) {

                newArr.splice(newArr.indexOf(bookName), 1);
                return newArr;
            }
        }

        var newBookList = add(bookList, 'A Brief History of Time');
        var newerBookList = remove(bookList, 'On The Electrodynamics of Moving Bodies');
        var newestBookList = remove(add(bookList, 'A Brief History of Time'), 'On The Electrodynamics of Moving Bodies');

        console.log(bookList);





        // Implement map on a Prototype
        var s = [23, 65, 98, 5];

        Array.prototype.myMap = function (callback) {
            var newArray = [];
            for (let i = 0; i < this.length; i++) {
                newArray.push(callback(this[i]));
            }
            return newArray;
        };

        var new_s = s.myMap(function (item) {
            return item * 2;
        });



    </script>
</body>

</html>